<template>
  <style>
    m-title, m-text {
      border: 1px blue solid;
    }
    m-title {
      color: red;
      font-size: 200%;
      display: block;
    }
    m-text {
      color: green;
    }
  </style>

  <m-title></m-title>
  <m-text></m-text>
</template>

<script type="text/javascript">
  (function () {
    "use strict";

    var template = document.currentScript.ownerDocument.querySelector('template');

    class Tweet extends HTMLElement {
      createdCallback() {
        this.createShadowRoot().appendChild(document.importNode(template.content, true));
        this.titleElem = this.shadowRoot.querySelector('m-title');
        this.textElem = this.shadowRoot.querySelector('m-text');
      }

      set(prop, value) {
        this.shadowRoot.querySelector(`m-${prop}`).textContent = value;
        return this;
      }

      get(prop) {
        return this.shadowRoot.querySelector(`m-${prop}`).textContent;
      }

      setData(tweet) {
        console.log('tweet', tweet);
        this.set('title', tweet.id);
        this.set('text', tweet.text);
        return this;
      }
    }

    document.registerElement("x-tweet", Tweet);
  })();
</script>
