<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Coolol</title>

    <!-- global utils -->
    <script src="/jspm_packages/system.js"></script>
    <script src="/config.js"></script>
    <script src="/js/utils.js"></script>
    <script src="/js/twitter.js"></script>

    <!-- Libararies -->
    <script src="/vendor/jsoneditor.min.js"></script>
    <script src="/jspm_packages/npm/twitter-text@1.13.2/twitter-text.js"></script>

    <!-- custom elements -->
    <link rel="import" href="/component/tweet.html">
    <link rel="import" href="/component/channel.html">
    <link rel="import" href="/component/board.html">
    <link rel="import" href="/component/compose.html">
    <link rel="import" href="/component/config.html">
    <link rel="import" href="/component/session.html">
    <link rel="import" href="/component/app.html">

    <!-- Main entrance -->
    <style media="screen">
      body {
        margin: 0;
        padding: 0;
        width: 100vw;
        height: 100vh;
        overflow: hidden;
      }
      #background-loading {
        position: fixed;
        background: white;
        width: 100vw;
        height: 100vh;
        z-index: 999;
      }
      #background-loading h1 {
        text-align: center;
        position: relative;
        top: 50%;
        transform: translateY(-50%);
      }
    </style>
    <script type="text/javascript">
      var main = function() {
        // Test HTML5 local storage
        if(typeof(Storage) === "undefined") {
          throw "Can't read from storage!";
        }
        // Test HTML template support
        if (!('content' in document.createElement('template'))) {
          throw "Can't use HTML template!";
        }
        // start app
        $.removeAllChild(document.body);
        document.body.appendChild(document.createElement('x-app'));
      };
      if (document.readyState === 'loading') {
        document.addEventListener("DOMContentLoaded", main);
      } else {
        main();
      }
    </script>
  </head>
  <body>
    <div id="background-loading">
      <h1>Loading...</h1>
    </div>
  </body>
</html>
